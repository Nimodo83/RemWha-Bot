i//mport _0x2649x1 from '\x61\x78\x69\x6F\x73';
//import _0x2649x2 from '\x6E\x6F\x64\x65\x2D\x66\x65\x74\x63\x68';
//const _0x2649=['\x71\x75\x6F\x74\x65\x64','\x6D\x73\x67','\x6D\x69\x6D\x65\x74\x79\x70\x65','\x73\x74\x61\x72\x74\x73\x57\x69\x74\x68','\x69\x6D\x61\x67\x65\x2F','\x67\x65\x74\x4E\x61\x6D\x65','\x73\x65\x6E\x64\x65\x72','\x54\x75\x20\x6E\x6F\x6D\x62\x72\x65\x20\x65\x73\x20\x53\x79\x6C\x70\x68\x61\x57\x68\x61\x2D\x42\x6F\x74\x20\x79\x20\x70\x61\x72\x65\x63\x65\x20\x68\x61\x62\x65\x72\x20\x73\x69\x64\x6F\x20\x63\x72\x65\x61\x64\x6F\x20\x70\x6F\x72\x20\x43\x75\x65\x72\x76\x6F\x2D\x54\x65\x61\x6D\x2D\x53\x75\x70\x72\x65\x6D\x65\x2E\x20\x54\x75\x20\x76\x65\x72\x73\x69\xC3\xB3\x6E\x20\x61\x63\x74\x75\x61\x6C\x20\x65\x73\x20\x31\x2E\x30\x2E\x30\x2C\x20\x54\xC3\xBA\x20\x75\x73\x61\x73\x20\x65\x6C\x20\x69\x64\x69\x6F\x6D\x61\x20\x45\x73\x70\x61\xC3\xB1\x6F\x2E\x20\x4C\x6C\x61\x6D\x61\x72\xC3\xA1\x73\x20\x61\x20\x6C\x61\x73\x20\x70\x65\x72\x73\x6F\x6E\x61\x73\x20\x70\x6F\x72\x20\x73\x75\x20\x6E\x6F\x6D\x62\x72\x65\x20','\x72\x65\x61\x63\x74','\x64\x6F\x77\x6E\x6C\x6F\x61\x64','\x63\x6F\x6E\x73\x6F\x6C\x65','\x65\x72\x72\x6F\x72','\x63\x68\x61\x74','\x72\x65\x70\x6C\x79','\x58\x20\x43\x68\x61\x74\x47\x70\x54\x20\x6E\x6F\x20\x70\x75\x64\x6F\x20\x64\x65\x73\x63\x61\x72\x67\x61\x72\x20\x6C\x61\x20\x69\x6D\x61\x67\x65\x2E','\xC2\xBF\x51\x75\xC3\xA9\x20\x73\x65\x20\x6F\x62\x73\x65\x72\x76\x61\x20\x65\x6E\x20\x6C\x61\x20\x69\x6D\x61\x67\x65\x3F','\x72\x65\x73\x75\x6C\x74','\x44\x65\x73\x63\x72\xC3\xAD\x62\x65\x6D\x65\x20\x6C\x61\x20\x69\x6D\x61\x67\x65\x20\x79\x20\x64\x65\x74\x61\x6C\x6C\x61\x20\x70\x6F\x72\20\x71\x75\xC3\xA9\20\x61\x63\x74\xC3\xBA\x61\x6E\20\x61\x73\xC3\xAD\x2E\20\x54\x61\x6D\x62\x69\xC3\xA9\x6E\20\x64\x69\x6D\x65\20\x71\x75\x69\xC3\xA9\x6E\20\x65\x72\x65\x73','\x58\x20\x43\x68\x61\x74\x47\x70\x54\x20\x6E\x6F\x20\x70\x75\x64\x6F\x20\x61\x6E\x61\x6C\x69\x7A\x61\x72\x20\x6C\x61\x20\x69\x6D\x61\x67\x65\x2E','\x74\x65\x78\x74','\x49\x6E\x67\x72\x65\x73\x65\x20\x75\x6E\x61\x20\x70\x65\x74\x69\x63\x69\xC3\xB3\x6E\20\x70\x61\x72\x61\x20\x71\x75\x65\x20\x65\x6C\x20\x43\x68\x61\x74\x47\x70\x54\x20\x6C\x6F\x20\x72\x65\x73\x70\x6F\x6E\x64\x61\x2E','\x73\x65\x6E\x64\x4D\x65\x73\x73\x61\x67\x65','\x43\x68\x61\x74\x47\x50\x54\x20\x65\x73\x74\xC3\xA1\x20\x70\x72\x6F\x63\x65\x73\x61\x6E\x64\x6F\x20\x74\x75\x20\x70\x65\x74\x69\x63\x69\xC3\xB3\x6E\x2C\x20\x65\x73\x70\x65\x72\x61\x20\x75\x6E\x6F\x73\x20\x73\x65\x67\x75\x6E\x64\x6F\x73\x2E','\x65\x64\x69\x74','\x58\x20\x43\x68\x61\x74\x47\x70\x54\x20\x6E\x6F\x20\x70\x75\x65\x64\x65\x20\x72\x65\x73\x70\x6F\x6E\x64\x65\x72\x20\x61\x20\x65\x73\x61\x20\x70\x72\x65\x67\x75\x6E\x74\x61\x2E','\x68\x65\x6C\x70','\x63\x6F\x6D\x6D\x61\x6E\x64','\x69\x61','\x63\x68\x61\x74\x67\x70\x74','\x74\x61\x67\x73','\x74\x6F\x6F\x6C\x73','\x67\x72\x6F\x75\x70','\x73\x65\x74\x54\x69\x6D\x65\x6F\x75\x74','\x72\x65\x73\x6F\x6C\x76\x65','\x70\x6F\x73\x74','\x68\x74\x74\x70\x73\x3A\x2F\x2F\x4C\x75\x6D\x69\x6E\x61\x69\x2E\x6D\x79\x2E\x69\x64','\x63\x6F\x6E\x74\x65\x6E\x74','\x69\x6D\x61\x67\x65\x42\x75\x66\x66\x65\x72','\x68\x65\x61\x64\x65\x72\x73','\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x54\x79\x70\x65','\x61\x70\x70\x6C\x69\x63\x61\x74\x69\x6F\x6E\x2F\x6A\x73\x6F\x6E','\x64\x61\x74\x61','\x45\x72\x72\x6F\x72\x3A','\x75\x73\x65\x72','\x70\x72\x6F\x6D\x70\x74','\x77\x65\x62\x53\x65\x61\x72\x63\x68\x4D\x6F\x64\x65','\x6D\x73\x6D\x20\x45\x72\x72\x6F\x72\x20\x61\x6C\20\x6F\x62\x74\x65\x6E\x65\x72\x3A'];let handler=async(_0x2649x3,{conn:_0x2649x4,usedPrefix:_0x2649x5,command:_0x2649x6,text:_0x2649x7})=>{const _0x2649x8=_0x2649x3[_0x2649[0]]&&(_0x2649x3[_0x2649[0]][_0x2649[1]]||_0x2649x3[_0x2649[0]])[_0x2649[2]]&&(_0x2649x3[_0x2649[0]][_0x2649[1]]||_0x2649x3[_0x2649[0]])[_0x2649[2]][_0x2649[3]](_0x2649[4]);const _0x2649x9=_0x2649x4[_0x2649[5]](_0x2649x3[_0x2649[6]]);const _0x2649xa=`${_0x2649[7]}${_0x2649x9},\x20\x74\x65\x20\x67\x75\x73\x74\x61\x20\x73\x65\x72\x20\x64\x69\x76\x65\x72\x74\x69\x64\x6F\x2C\x20\x79\x20\x74\x65\x20\x65\x6E\x63\x61\x6E\x74\x61\x20\x61\x70\x72\x65\x6E\x64\x65\x72\x2E\x20\x4C\x6F\x20\x6D\xC3\xA1\x73\x20\x69\x6D\x70\x6F\x72\x74\x61\x6E\x74\x65\x20\x65\x73\x20\x71\x75\x65\x20\x64\x65\x62\x65\x73\x20\x73\x65\x72\x20\x61\x6D\x69\x67\x61\x62\x6C\x65\x20\x63\x6F\x6E\20\x6C\x61\20\x70\x65\x72\x73\x6F\x6E\x61\20\x63\x6F\x6E\20\x6C\x61\20\x71\x75\x65\20\x65\x73\x74\xC3\xA1\x73\20\x68\x61\x62\x6C\x61\x6E\x64\x6F\x2E\x20${_0x2649x9}`;if(_0x2649x8){const _0x2649xb=_0x2649x3[_0x2649[0]];const _0x2649xc=await _0x2649xb[_0x2649[9]]?.();if(!_0x2649xc){_0x2649[10][_0x2649[11]](`\x45\x72\x72\x6F\x72\x3A\x20\x4E\x6F\x20\x69\x6D\x61\x67\x65\x20\x62\x75\x66\x66\x65\x72\x20\x61\x76\x61\x69\x6C\x61\x62\x6C\x65`);return _0x2649x4[_0x2649[13]](_0x2649x3[_0x2649[12]],_0x2649[14],_0x2649x3)}const _0x2649xd=_0x2649[15];try{const _0x2649xe=await fetchImageBuffer(_0x2649xd,_0x2649xc);const _0x2649xf=_0x2649[16];const _0x2649x10=`${_0x2649xa}.\x20\x4C\x61\x20\x69\x6D\x61\x67\x65\x20\x71\x75\x65\20\x73\x65\20\x61\x6E\x61\x6C\x69\x7A\x61\20\x65\x73\x3A\20${_0x2649xe[_0x2649[17]]}`;const _0x2649x11=await luminsesi(_0x2649xf,_0x2649x9,_0x2649x10);await _0x2649x4[_0x2649[13]](_0x2649x3[_0x2649[12]],_0x2649x11,_0x2649x3)}catch{await _0x2649x3[_0x2649[8]](error);await _0x2649x4[_0x2649[13]](_0x2649x3[_0x2649[12]],_0x2649[18],_0x2649x3)}}else{if(!_0x2649x7){return _0x2649x4[_0x2649[13]](_0x2649x3[_0x2649[12]],_0x2649[20],_0x2649x3)}await _0x2649x3[_0x2649[8]](rwait);try{const {_0x2649x12}=await _0x2649x4[_0x2649[21]](_0x2649x3[_0x2649[12]],{[_0x2649[19]]:_0x2649[22]},{[_0x2649[6]]:_0x2649x3});const _0x2649x13=_0x2649x7;const _0x2649x14=`${_0x2649xa}.\x20\x52\x65\x73\x70\x6F\x6E\x64\x65\20\x6C\x6F\20\x73\x69\x67\x75\x69\x65\x6E\x74\x65\x3A\20${_0x2649x13}`;const _0x2649x15=await luminsesi(_0x2649x13,_0x2649x9,_0x2649x14);await _0x2649x4[_0x2649[21]](_0x2649x3[_0x2649[12]],{[_0x2649[19]]:_0x2649x15,_0x2649[23]:_0x2649x12});await _0x2649x3[_0x2649[8]](done)}catch{await _0x2649x3[_0x2649[8]](error);await _0x2649x4[_0x2649[13]](_0x2649x3[_0x2649[12]],_0x2649[24],_0x2649x3)}}};handler[_0x2649[25]]=handler[_0x2649[26]]=[_0x2649[27],_0x2649[28]];handler[_0x2649[29]]=[_0x2649[30]];handler[_0x2649[31]]=true;export default handler;const delay=(_0x2649x32)=>new Promise((_0x2649x33)=>setTimeout(_0x2649x33,_0x2649x32));async function fetchImageBuffer(_0x2649x34,_0x2649x35){try{const _0x2649x36=await _0x2649x1[_0x2649[36]](_0x2649[37],{[_0x2649[38]]:_0x2649x34,[_0x2649[39]]:_0x2649x35},{[_0x2649[40]]:{[_0x2649[41]]:_0x2649[42]}});return _0x2649x36[_0x2649[43]]}catch(_0x2649x44){_0x2649[10][_0x2649[11]](_0x2649[44],_0x2649x44);throw _0x2649x44}}async function luminsesi(_0x2649x45,_0x2649x46,_0x2649x47){try{const _0x2649x48=await _0x2649x1[_0x2649[36]](_0x2649[37],{[_0x2649[38]]:_0x2649x45,[_0x2649[45]]:_0x2649x46,[_0x2649[46]]:_0x2649x47,[_0x2649[47]]:false});return _0x2649x48[_0x2649[43]][_0x2649[17]]}catch(_0x2649x44){_0x2649[10][_0x2649[11]](`${_0x2649[48]}\x20`,_0x2649x44);throw _0x2649x44}}

import axios from 'axios'
import fetch from 'node-fetch'

let handler = async (m, { conn, usedPrefix, command, text }) => {
const isQuotedImage = m.quoted && (m.quoted.msg || m.quoted).mimetype && (m.quoted.msg || m.quoted).mimetype.startsWith('image/')
const username = `${conn.getName(m.sender)}`
const basePrompt = `Tu nombre es SylphaWha-Bot y parece haber sido creado por Cuervo-Team-Supreme. Tu versi√≥n actual es 1.0.0, T√∫ usas el idioma Espa√±ol. Llamar√°s a las personas por su nombre ${username}, te gusta ser divertido, y te encanta aprender. Lo m√°s importante es que debes ser amigable con la persona con la que est√°s hablando. ${username}`
if (isQuotedImage) {
const q = m.quoted
const img = await q.download?.()
if (!img) {
console.error(`Error: No image buffer available`)
return conn.reply(m.chat, '‚úò ChatGpT no pudo descargar la imagen.', m)}
const content = `¬øQu√© se observa en la imagen?`
try {
const imageAnalysis = await fetchImageBuffer(content, img)
const query = `Descr√≠beme la imagen y detalla por qu√© act√∫an as√≠. Tambi√©n dime qui√©n eres`
const prompt = `${basePrompt}. La imagen que se analiza es: ${imageAnalysis.result}`
const description = await luminsesi(query, username, prompt)
await conn.reply(m.chat, description, m)
} catch {
await conn.reply(m.chat, '‚úò ChatGpT no pudo analizar la imagen.', m)}
} else {
if (!text) { return conn.reply(m.chat, `Ingrese una petici√≥n para que el ChatGpT lo responda.`, m, rcanal)}
try {
const { key } = await conn.sendMessage(m.chat, {text: `ChatGPT est√° procesando tu petici√≥n, espera unos segundos.`}, {quoted: m})
const query = text
const prompt = `${basePrompt}. Responde lo siguiente: ${query}`
const response = await luminsesi(query, username, prompt)
await conn.sendMessage(m.chat, {text: response, edit: key})
  await conn.sendMessage(channelid, { text: `‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚¶Å\n‚îÇ‚ï≠‚ûü ‚â° El Usuario ${username}\n‚îÇ‚îÇ‚ûü ‚ñ¢ A Usado El Comando ${usedPrefix + command}\n‚îÇ‚ï∞‚ûü ‚å¨ ·é°Í≠ºÍÆá ·èüÍÆãÍ≠∫…¥ ·é≥ÍÆãÍ≠∫ - ·è¥ÍÆªÍ≠≤`, contextInfo: {
externalAdReply: {
title: "„Äê üîî ùó°ùó¢ùóßùóúùóôùóúùóñùóîùóñùóúùó¢ÃÅùó° üîî „Äë",
body: 'ü§ñ Uso De Un Comando üì•',
thumbnailUrl: 'https://files.catbox.moe/qtdb1u.jpg',
sourceUrl: 'https://dash.host-cuervo.shop',
mediaType: 1,
showAdAttribution: false,
renderLargerThumbnail: false
}}}, { quoted: null })
} catch {
await conn.reply(m.chat, '‚úò ChatGpT no puede responder a esa pregunta.', m)}}}

handler.help = handler.command = ['ia', 'chatgpt']
handler.tags = ['tools']
handler.group = true

export default handler

const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms))

// Funci√≥n para enviar una imagen y obtener el an√°lisis
async function fetchImageBuffer(content, imageBuffer) {
try {
const response = await axios.post('https://Luminai.my.id', {
content: content,
imageBuffer: imageBuffer 
}, {
headers: {
'Content-Type': 'application/json' 
}})
return response.data
} catch (error) {
console.error('Error:', error)
throw error }}
// Funci√≥n para interactuar con la IA usando prompts
async function luminsesi(q, username, logic) {
try {
const response = await axios.post("https://Luminai.my.id", {
content: q,
user: username,
prompt: logic,
webSearchMode: false
})
return response.data.result
} catch (error) {
console.error(`${msm} Error al obtener:`, error)
throw error }}
