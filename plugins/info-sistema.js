//import _0x3b85x1 from '\x6F\x73';import {execSync as _0x3b85x2} from '\x63\x68\x69\x6C\x64\x5F\x70\x72\x6F\x63\x65\x73\x73';const _0x3b85=['\x30\x20\x42\x79\x74\x65\x73','\x42\x79\x74\x65\x73','\x4B\x42','\x4D\x42','\x47\x42','\x54\x42','\x6C\x6F\x67','\x74\x6F\x46\x69\x78\x65\x64','\x20','\x64\x66\x20\x2D\x68\x20\x7C\x20\x67\x72\x65\x70\x20\x2D\x45\x20\x22\x5E\x2F\x64\x65\x76\x2F\x72\x6F\x6F\x74\x7C\x5E\x2F\x64\x65\x76\x2F\x73\x64\x61\x31\x22','\x74\x6F\x53\x74\x72\x69\x6E\x67','\x73\x70\x6C\x69\x74','\x5C\x73\x2B','\x50\x72\x69\x6D\x65\x72\x20\x65\x6C\x20\x65\x73\x70\x61\x63\x69\x6F\x20\x65\x6E\x20\x64\x69\x73\x63\x6F\x3A','\x63\x6F\x6E\x73\x6F\x6C\x65','\x65\x72\x72\x6F\x72','\x6E\x75\x6C\x6C','\x74\x6F\x74\x61\x6C\x6D\x65\x6D','\x66\x72\x65\x65\x6D','\x75\x70\x74\x69\x6D\x65','\x68\x6F\x73\x74\x6E\x61\x6D\x65','\x70\x6C\x61\x74\x66\x6F\x72\x6D','\x61\x72\x63\x68','\x6D\x65\x6D\x6F\x72\x79\x55\x73\x61\x67\x65','\x63\x68\x61\x74','\x72\x65\x70\x6C\x79','\x74\x72\x69\x6D','\x74\x61\x67\x73','\x69\x6E\x66\x6F','\x63\x6F\x6D\x6D\x61\x6E\x64','\x68\x65\x6C\x70','\x73\x79\x73\x74\x65\x6D','\x73\x69\x73\x74\x65\x6D\x61','\x67\x72\x6F\x75\x70','\x69\x73\x4E\x61\x4E','\x66\x6C\x6F\x6F\x72','\x74\x6F\x53\x74\x72\x69\x6E\x67','\x70\x61\x64\x53\x74\x61\x72\x74','\x6A\x6F\x69\x6E'];const formatBytes=(_0x3b85x3,_0x3b85x4=0x2)=>{if(_0x3b85x3===0x0)return _0x3b85[0];const _0x3b85x5=0x400;const _0x3b85x6=_0x3b85x4<0x0?0x0:_0x3b85x4;const _0x3b85x7=[_0x3b85[1],_0x3b85[2],_0x3b85[3],_0x3b85[4],_0x3b85[5]];const _0x3b85x8=Math[_0x3b85[35]](Math[_0x3b85[6]](_0x3b85x3)/Math[_0x3b85[6]](_0x3b85x5));return parseFloat((_0x3b85x3/Math[_0x3b85[36]](_0x3b85x5,_0x3b85x8))[_0x3b85[7]](_0x3b85x6))+_0x3b85[8]+_0x3b85x7[_0x3b85x8]};const getDiskSpace=()=>{try{const _0x3b85x9=_0x3b85x2(_0x3b85[9])[_0x3b85[10]]();const[,_0x3b85xa,_0x3b85xb,_0x3b85xc,_0x3b85xd]=_0x3b85x9[_0x3b85[11]](_0x3b85[12]);return{size:_0x3b85xa,used:_0x3b85xb,available:_0x3b85xc,usePercent:_0x3b85xd}}catch(_0x3b85xe){_0x3b85[14][_0x3b85[15]](_0x3b85[13],_0x3b85xe);return _0x3b85[16]}};const handler=async(_0x3b85xf,{conn:_0x3b85x10})=>{const _0x3b85x11=_0x3b85x1[_0x3b85[17]]();const _0x3b85x12=_0x3b85x1[_0x3b85[18]]();const _0x3b85x13=_0x3b85x11-_0x3b85x12;const _0x3b85x14=process[_0x3b85[19]]()*0x3e8;const _0x3b85x15=clockString(_0x3b85x14);const _0x3b85x16=_0x3b85x1[_0x3b85[20]]();const _0x3b85x17=_0x3b85x1[_0x3b85[21]]();const _0x3b85x18=_0x3b85x1[_0x3b85[22]]();const _0x3b85x19=process[_0x3b85[23]]();const _0x3b85x1a=getDiskSpace();const _0x3b85x1b='\xâœ…\xEF\xB8\x8F\x20\x2A\x45\x53\x54\x41\x44\x4F\x20\x44\x45\x4C\x20\x53\x49\x53\x54\x45\x4D\x41\x2A\x0A\x0A\xðŸ’›\x20\x2A\x48\x6F\x73\x74\x20\xE2\xAA\xBC\x2A\x20'+_0x3b85x16+'\x0A\xðŸ†\x20\x2A\x50\x6C\x61\x74\x61\x66\x6F\x72\x6D\x61\x20\xE2\xAA\xBC\x2A\x20'+_0x3b85x17+'\x0A\xðŸ’«\x20\x2A\x41\x72\x71\x75\x69\x74\x65\x63\x74\x75\x72\x61\x20\xE2\xAA\xBC\x2A\x20'+_0x3b85x18+'\x0A\xðŸ¥·\x20\x2A\x52\x41\x4D\x20\x54\x6F\x74\x61\x6C\x20\xE2\xAA\xBC\x2A\x20'+formatBytes(_0x3b85x11)+'\x0A\xðŸš€\x20\x2A\x52\x41\x4D\x20\x4C\x69\x62\x72\x65\x20\xE2\xAA\xBC\x2A\x20'+formatBytes(_0x3b85x12)+'\x0A\xâŒ›\xEF\xB8\x8F\x20\x2A\x52\x41\x4D\x20\x55\x73\x61\x64\x61\x20\xE2\xAA\xBC\x2A\x20'+formatBytes(_0x3b85x13)+'\x0A\xðŸ•’\x20\x2A\x54\x69\x65\x6D\x70\x6F\x20\x41\x63\x74\x69\x76\x6F\x20\xE2\xAA\xBC\x2A\x20'+_0x3b85x15+'\x0A\x0A\xðŸª´\x20\x2A\x55\x73\x6F\x20\x64\x65\x20\x4D\x65\x6D\x6F\x72\x69\x61\x20\x4E\x6F\x64\x65\x6A\x73\x3A\x2A\x20\x0A\xE2\x86\x92\x20\x52\x53\x53\x3A\x20'+formatBytes(_0x3b85x19['\x72\x73\x73'])+'\x0A\xE2\x86\x92\x20\x48\x65\x61\x70\x20\x54\x6F\x74\x61\x6C\x3A\x20'+formatBytes(_0x3b85x19['\x68\x65\x61\x70\x54\x6F\x74\x61\x6C'])+'\x0A\xE2\x86\x92\x20\x48\x65\x61\x70\x20\x55\x73\x61\x64\x61\x3A\x20'+formatBytes(_0x3b85x19['\x68\x65\x61\x70\x55\x73\x65\x64'])+'\x0A\xE2\x86\x92\x20\x45\x78\x74\x65\x72\x6E\x61\x3A\x20'+formatBytes(_0x3b85x19['\x65\x78\x74\x65\x72\x6E\x61\x6C'])+'\x0A\xE2\x86\x92\x20\x41\x72\x72\x65\x67\x6C\x6F\x73\x3A\x20'+formatBytes(_0x3b85x19['\x61\x72\x72\x61\x79\x42\x75\x66\x66\x65\x72\x73'])+'\x0A'+(_0x3b85x1a?'\x0A\xâ˜\xEF\xB8\x8F\x20\x2A\x45\x73\x70\x61\x63\x69\x6F\x20\x65\x6E\x20\x44\x69\x73\x63\x6F\x3A\x2A\x0A\xE2\x86\x92\x20\x54\x61\x6D\x61\xC3\xB1\x6F\x20\x54\x6F\x74\x61\x6C\x3A\x20'+_0x3b85x1a['\x73\x69\x7A\x65']+'\x0A\xE2\x86\x92\x20\x55\x73\x61\x64\x6F\x3A\x20'+_0x3b85x1a['\x75\x73\x65\x64']+'\x0A\xE2\x86\x92\x20\x44\x69\x73\x70\x6F\x6E\x69\x62\x6C\x65\x3A\x20'+_0x3b85x1a['\x61\x76\x61\x69\x6C\x61\x62\x6C\x65']+'\x0A\xE2\x86\x92\x20\x50\x6F\x72\x63\x65\x6E\x74\x61\x6A\x65\x20\x64\x65\x20\x55\x73\x6F\x3A\x20'+_0x3b85x1a['\x75\x73\x65\x50\x65\x72\x63\x65\x6E\x74']:'\x45\x72\x72\x6F\x72\x2E');await _0x3b85x10[_0x3b85[25]](_0x3b85xf[_0x3b85[24]],_0x3b85x1b[_0x3b85[26]](),_0x3b85xf,rcanal)};handler[_0x3b85[27]]=[_0x3b85[28]];handler[_0x3b85[29]]=handler[_0x3b85[30]]=[_0x3b85[31],_0x3b85[32]];handler[_0x3b85[33]]=true;export default handler;function clockString(_0x3b85x1c){let _0x3b85x1d=_0x3b85[34](_0x3b85x1c)?'\x2D\x2D':Math[_0x3b85[35]](_0x3b85x1c/0x36EE80);let _0x3b85x1e=_0x3b85[34](_0x3b85x1c)?'\x2D\x2D':Math[_0x3b85[35]](_0x3b85x1c/0xEA60)%0x3c;let _0x3b85x1f=_0x3b85[34](_0x3b85x1c)?'\x2D\x2D':Math[_0x3b85[35]](_0x3b85x1c/0x3e8)%0x3c;return[_0x3b85x1d,_0x3b85x1e,_0x3b85x1f][_0x3b85[37]](_0x3b85x20=>_0x3b85x20[_0x3b85[36]]()[_0x3b85[38]](0x2,0x0))[_0x3b85[39]]('\x3A')}

import os from 'os';
import { execSync } from 'child_process';

const formatBytes = (bytes, decimals = 2) => {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const dm = decimals < 0 ? 0 : decimals;
    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
};

const getDiskSpace = () => {
    try {
        const stdout = execSync('df -h | grep -E "^/dev/root|^/dev/sda1"').toString();
        const [ , size, used, available, usePercent ] = stdout.split(/\s+/);
        return { size, used, available, usePercent };
    } catch (error) {
        console.error('âœ§ Error al obtener el espacio en disco:', error);
        return null;
    }
};

const handler = async (m, { conn, usedPrefix, command }) => {
    const totalMem = os.totalmem();
    const freeMem = os.freemem();
    const usedMem = totalMem - freeMem;
    const _muptime = process.uptime() * 1000
    const muptime = clockString(_muptime)
    const hostname = os.hostname();
    const platform = os.platform();
    const arch = os.arch();
    const nodeUsage = process.memoryUsage();
    const diskSpace = getDiskSpace();
    const nombre = await conn.getName(m.sender)

    const message = `âœ…ï¸ *ESTADO DEL SISTEMA*

ðŸ’› *Host âª¼* ${hostname}
ðŸ† *Plataforma âª¼* ${platform}
ðŸ’« *Arquitectura âª¼* ${arch}
ðŸ¥· *RAM Total âª¼* ${formatBytes(totalMem)}
ðŸš€ *RAM Libre âª¼* ${formatBytes(freeMem)}
âŒ›ï¸ *RAM Usada âª¼* ${formatBytes(usedMem)}
ðŸ•’ *Tiempo Activo âª¼* ${muptime}

ðŸª´ *Uso de Memoria Nodejs:* 
â†’ RSS: ${formatBytes(nodeUsage.rss)}
â†’ Heap Total: ${formatBytes(nodeUsage.heapTotal)}
â†’ Heap Usado: ${formatBytes(nodeUsage.heapUsed)}
â†’ Externa: ${formatBytes(nodeUsage.external)}
â†’ Arreglos: ${formatBytes(nodeUsage.arrayBuffers)}
${diskSpace ? `

â˜ï¸ *Espacio en Disco:*
â†’ TamaÃ±o Total: ${diskSpace.size}
â†’ Usado: ${diskSpace.used}
â†’ Disponible: ${diskSpace.available}
â†’ Porcentaje de Uso: ${diskSpace.usePercent}` : 'Error.'}
`;

    await conn.reply(m.chat, message.trim(), m, rcanal);
      await conn.sendMessage(channelid, { text: `â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â¦\nâ”‚â•­âžŸ â‰¡ El Usuario ${nombre}\nâ”‚â”‚âžŸ â–¢ A Usado El Comando ${usedPrefix + command}\nâ”‚â•°âžŸ âŒ¬ áŽ¡ê­¼ê®‡ áŸê®‹ê­ºÉ´ áŽ³ê®‹ê­º - á´ê®»ê­²\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â¦`, contextInfo: {
externalAdReply: {
title: "ã€ ðŸ”” ð—¡ð—¢ð—§ð—œð—™ð—œð—–ð—”ð—–ð—œð—¢Ìð—¡ ðŸ”” ã€‘",
body: 'ðŸ¤– Uso De Un Comando ðŸ“¥',
thumbnailUrl: 'https://files.catbox.moe/qtdb1u.jpg',
sourceUrl: 'https://dash.host-cuervo.shop',
mediaType: 1,
showAdAttribution: false,
renderLargerThumbnail: false
}}}, { quoted: null })
};

handler.tags = ['info'];
handler.command = handler.help = ['system', 'sistema'];
handler.group = true;

export default handler;

function clockString(ms) {
let h = isNaN(ms) ? '--' : Math.floor(ms / 3600000)
let m = isNaN(ms) ? '--' : Math.floor(ms / 60000) % 60
let s = isNaN(ms) ? '--' : Math.floor(ms / 1000) % 60
return [h, m, s].map(v => v.toString().padStart(2, 0)).join(':')}
